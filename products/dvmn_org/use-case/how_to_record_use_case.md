# Как составить сценарий использования

Из всех видов сценариев этот — наиболее технический и напоминающий алгоритм, а не историю. Описывает все взаимодействия системы с пользователем.

Сценарии использования становятся полезны, когда в системе есть много pipelines -- этапов обработки заявок/заказов/etc. Вот такие pipelines как раз удобно фиксировать в виде линейного сценария. Внутри каждого отдельного этапа сокрыта нелинейность, но вот переходы из одного стейта в следующий линейны. Много примеров [здесь](https://habr.com/ru/company/qiwi/blog/346438/).

В таких больших сложных системах сценарии использования являются надстройкой над сеансами использования -- включают их внутри себя. Причём комплект сценариев использования хорошо дополнять диаграммой юзкейсов в качестве индекса.

Под сценарием использования будем понимать строго pipelines по обработке заказов/заявок/лидов или чего-то подобного с чёткими этапами и линейным прогрессом от начала к концу. Внутри каждого этапа прячется нелинейность и хаос, множество [сеансов использования](/products/dvmn_org/use-session/) 

Линейность на уровне pipelines возможно лишь потому, что это требование вытекает из необходимости стабилизировать бизнес-процессы и добавить им контролируемости. Сами pipelines by design линейны, поэтому для них возможно описать сценарий.

Называем такой продукт не "Pipeline", а общепринятым названием "Сценарий использования". Так другим будет проще разобраться как это устроено.

> Определенная литература по сценариям использования, однако, утверждает что предварительные и результирующие условия, описанные в сценарии, должны применяться ко всему сценарию (то есть, ко всем возможным путям развития сценария). Это ограничивает пользу сценариев с точки зрения тест дизайна. Если результирующие условия сценария использования являются достаточно общими, чтобы быть правильными для всех вариантов развития событий, они вероятно бесполезны как основа для определения ожидаемого поведения системы в тест дизайне. Например, результирующие условия неудавшейся попытки снять наличные деньги из банкомата отличаются от результирующих условий после успешной операции. Если результирующие условия отразят этот факт, то они также будут отличаться. Если результирующие условия не отражают этого, то они не могут использоваться для определения ожидаемого поведения тестов.

Определение из глоссария UML:

> Юзкейс — это описание набора последовательностей действий системы, в том числе вариантов таких последовательностей, в результате которых получается наблюдаемый результат, который обладает некой ценностью для кого-то из участников процесса.

Когда сценарии использования подходят идеально:

- Для документации бизнес-процессов, растянутых во времени на несколько "подходов"

Когда сценарии использования не подходят:

- Для документации нефункциональных требований: архитектура, орг.моменты, etc
- Для нелинейных процессов
    - взаимодействие с отдельной страницей сайта
    - взаимодействие с чат-ботом

[Шаблон сценария использования](./template.md).